# Документация проекта Laravel + Vue

## 1. Корневая структура проекта

В корне проекта находятся основные файлы и папки, которые нужны для работы Laravel:

- **app/** – вся бизнес-логика приложения: модели, контроллеры, события.
- **bootstrap/** – код, который запускает приложение.
- **config/** – настройки приложения.
- **database/** – база данных, миграции, фабрики, сидеры.
- **public/** – публичная часть приложения, точка входа для браузера.
- **resources/** – шаблоны, стили, JS-файлы, компоненты Vue.
- **routes/** – все маршруты (URL) приложения.
- **storage/** – логи, кэш, сессии, временные файлы.
- **tests/** – тесты для проверки работы приложения.
- **vendor/** – сторонние библиотеки (Laravel, Composer пакеты).

---

## 2. Файл .env и .env.example

- **.env** – очень важный файл для разработки и настройки проекта.  
  Хранит ключи и пароли: база данных, API-сервисы (например Pusher), почта.  
  Можно менять параметры для локальной разработки и продакшена.

- **.env.example** – шаблон для .env, чтобы другие разработчики могли скопировать и настроить под себя.

Примеры настроек:

- `APP_NAME` – название приложения.
- `DB_CONNECTION` – тип базы данных (sqlite, mysql, postgresql и т.д.).
- `BROADCAST_DRIVER` – как отправлять события в реальном времени (Pusher или log).
- `MAIL_MAILER` – почтовый драйвер для отправки писем.
- `VITE_*` – настройки фронтенда и Pusher для Vue.

---

## 3. Папка app/

Это сердце приложения. Содержит несколько важных подпапок:

- **Models/** – модели базы данных, например `User`. Они описывают таблицы и данные, с которыми работает приложение.
- **Providers/** – сервис-провайдеры. Подключают и настраивают разные части Laravel.
- **Events/** – события, например `NewArticleEvent`.
- **Listeners/** – слушатели событий, которые реагируют на события и выполняют действия (например уведомляют пользователей).

**Пример работы:**  
Пользователь создаёт статью → `NewArticleEvent` отправляется → слушатель обрабатывает → фронтенд Vue получает уведомление через Pusher.

---

## 4. Папка bootstrap/

Здесь код запускает приложение Laravel:

- **app.php** – главный файл, создающий объект приложения.
- **cache/** – кэшированные файлы для ускорения работы.

Без этого Laravel не сможет работать, так как не будет знать, что и как загружать.

---

## 5. Папка config/

Хранит настройки всего приложения:

- **app.php** – основные настройки приложения.
- **database.php** – настройки базы данных.
- **mail.php** – почтовые настройки.
- **broadcasting.php** – настройка Pusher и других сервисов для событий в реальном времени.

Используются вместе с `.env`, чтобы не хранить конфиденциальные данные прямо в коде.

---

## 6. Папка database/

- **Migrations** – создают таблицы базы данных и позволяют синхронизировать структуру базы с кодом.
- **Factories** – шаблоны данных для тестов или заполнения базы.
- **Seeders** – наполняют базу начальными данными.

**Пример рабочего процесса:**  
Модель `User` → Миграция создаёт таблицу `users` → Factory генерирует тестовых пользователей → Seeders наполняют базу начальными данными.

---

## 7. Папка public/

Содержит публичную часть проекта:

- **index.php** – точка входа, через которую все запросы проходят в Laravel.
- **.htaccess** (для Apache) – правила перенаправления URL, чтобы все запросы шли через `index.php`.

---

## 8. Папка resources/

- **views/** – шаблоны Blade для HTML страниц.
- **js/** – фронтенд, Vue-компоненты (например `App.vue`).
- **css/** – стили приложения.

**Файлы фронтенда:**

- `App.vue` – Vue-компонент, который показывает уведомления о новых статьях.
- `app.js` – подключение Vue и монтирование компонентов на страницу.
- `bootstrap.js` – настройка Axios и Pusher для работы с API и real-time событиями.

**Принцип работы фронтенда:**  
Vue слушает события через Pusher → при новом событии обновляет интерфейс без перезагрузки страницы.

---

## 9. Папка routes/

- **web.php** – маршруты для веб-страниц.
- **api.php** – маршруты для API (JSON ответы для фронтенда).
- **channels.php** – каналы для Pusher/WebSocket.
- **console.php** – консольные команды Artisan.

**Пример работы:**  
Пользователь открывает `/` → Laravel берёт маршрут из `web.php` → возвращает шаблон `welcome.blade.php`.  
Маршрут `/fire` → создаёт событие о новой статье.

---

## 10. Папка storage/

Содержит:

- Логи приложения (`logs/`).
- Кэш (`framework/cache`).
- Сессии пользователей (`framework/sessions`).

Важно: папка динамическая, её не добавляют в Git. Laravel автоматически сохраняет туда временные данные и ошибки.

---

## 11. Папка tests/

- **Feature** – функциональные тесты, проверяют работу страниц и API.
- **Unit** – модульные тесты, проверяют отдельные функции.
- `TestCase.php` – базовый класс для всех тестов.

Тесты помогают убедиться, что при изменениях приложение не ломается и безопасно масштабируется.

---

## 12. Файл artisan

CLI-команда Laravel для управления приложением:

- `php artisan migrate` – запуск миграций.
- `php artisan make:controller` – создание контроллеров.
- `php artisan test` – запуск тестов.

Artisan позволяет управлять проектом через терминал и автоматизировать рутинные задачи.

---

## 13. Hot и Vite

- `http://0.0.0.0:5173` – Vite dev server с Hot Module Replacement.
- Hot Reload позволяет обновлять Vue-компоненты без перезагрузки страницы.
- Очень полезно при разработке фронтенда.

---

## 14. Robots.txt

Файл для поисковых систем:

- `User-agent: *` – для всех роботов.
- `Disallow:` – ничего не запрещаем, сайт индексируется полностью.

Важно для SEO и управления индексированием страниц.

---

## 15. Как всё работает вместе

1. Пользователь открывает страницу в браузере.
2. Запрос идёт через `public/index.php`.
3. Laravel определяет маршрут → контроллер → модель.
4. Работа с базой через Eloquent.
5. Если событие → `NewArticleEvent` → Pusher → Vue.
6. Ответ возвращается пользователю: HTML или JSON.
7. Vue обновляет интерфейс динамически (real-time уведомления).
8. Логи и сессии хранятся в storage, тесты проверяют функционал, Artisan помогает автоматизировать задачи.

---

## 16. Почему такой подход удобен

- Все части проекта разделены по папкам и логике.
- Конфигурации вынесены в `.env` и `config/`.
- Миграции, фабрики и сидеры упрощают работу с БД.
- Vue + Pusher дают интерактивность и real-time уведомления.
- Тесты защищают приложение при изменениях.
- Artisan помогает ускорять разработку.

Позволяет масштабировать проект, добавлять новые страницы, события, API и фронтенд-компоненты без риска сломать существующий код.
